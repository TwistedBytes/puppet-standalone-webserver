classes:
  - tbsite::packages
  - apache_php::apache
#  - apache_php::dbserver
  - apache_php::sites

apache_php::phpfpmvhost::pmdefaults:
  pm: ondemand
  pm_start_servers: 1
  pm_min_spare_servers: 1
  pm_max_spare_servers: 2
  pm_max_children: 15
  pm_max_requests: 4000
  pm_process_idle_timeout: 20s

apache_php::proftpd: false

apache_php::apachenew: true
apache_php::phpfpmvhost::php56: false

tbmariadb::repo::version: 10.3

apache_php::dbserver::mysqld_options:
  innodb_buffer_pool_size: 1000M
  innodb_log_file_size: 125M # 1/8 of innodb_buffer_pool_size
  tmp_table_size: 128M
  max_heap_table_size: 128M

apache_php::sites::defaults:
  options:
    php7: 73
    php_default: 73
    php_default_force: true

apache_php::sites::sites:
  default:
    vhostparentdir: /var/www/vhosts
    vhostbasedir: /var/www/vhosts/default
    vhostprio: 10
